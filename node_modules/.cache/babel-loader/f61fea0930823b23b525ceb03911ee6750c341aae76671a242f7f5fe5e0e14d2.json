{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./style.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[questions,setQuestions]=useState([]);const[current,setCurrent]=useState(0);const[score,setScore]=useState(0);const[finished,setFinished]=useState(false);useEffect(()=>{const params=new URLSearchParams(window.location.search);const quizId=params.get(\"quiz_id\")||\"general\";fetch(\"/quizzes/\".concat(quizId,\".json\")).then(res=>res.json()).then(data=>setQuestions(data.questions)).catch(err=>console.error(\"Ошибка загрузки квиза:\",err));},[]);const handleAnswer=isCorrect=>{if(isCorrect)setScore(score+1);const next=current+1;if(next<questions.length)setCurrent(next);else setFinished(true);};if(questions.length===0)return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"});return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:!finished?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:questions[current].question}),questions[current].options.map((opt,idx)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAnswer(opt.correct),children:opt.text},idx))]}):/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\u0412\\u044B \\u043D\\u0430\\u0431\\u0440\\u0430\\u043B\\u0438 \",score,\" \\u0438\\u0437 \",questions.length]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","App","questions","setQuestions","current","setCurrent","score","setScore","finished","setFinished","params","URLSearchParams","window","location","search","quizId","get","fetch","concat","then","res","json","data","catch","err","console","error","handleAnswer","isCorrect","next","length","className","children","question","options","map","opt","idx","onClick","correct","text"],"sources":["C:/Users/mikae/quiz_bot/telegram_quiz_webapp/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./style.css\";\n\nfunction App() {\n  const [questions, setQuestions] = useState([]);\n  const [current, setCurrent] = useState(0);\n  const [score, setScore] = useState(0);\n  const [finished, setFinished] = useState(false);\n\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const quizId = params.get(\"quiz_id\") || \"general\";\n    fetch(`/quizzes/${quizId}.json`)\n      .then((res) => res.json())\n      .then((data) => setQuestions(data.questions))\n      .catch((err) => console.error(\"Ошибка загрузки квиза:\", err));\n  }, []);\n\n  const handleAnswer = (isCorrect) => {\n    if (isCorrect) setScore(score + 1);\n    const next = current + 1;\n    if (next < questions.length) setCurrent(next);\n    else setFinished(true);\n  };\n\n  if (questions.length === 0) return <div className=\"App\">Загрузка...</div>;\n\n  return (\n    <div className=\"App\">\n      {!finished ? (\n        <div>\n          <h2>{questions[current].question}</h2>\n          {questions[current].options.map((opt, idx) => (\n            <button key={idx} onClick={() => handleAnswer(opt.correct)}>\n              {opt.text}\n            </button>\n          ))}\n        </div>\n      ) : (\n        <h2>Вы набрали {score} из {questions.length}</h2>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGP,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGT,QAAQ,CAAC,CAAC,CAAC,CACzC,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,CAAC,CAAC,CACrC,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAE/CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,MAAM,CAAG,GAAI,CAAAC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAC1D,KAAM,CAAAC,MAAM,CAAGL,MAAM,CAACM,GAAG,CAAC,SAAS,CAAC,EAAI,SAAS,CACjDC,KAAK,aAAAC,MAAA,CAAaH,MAAM,SAAO,CAAC,CAC7BI,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,EAAKnB,YAAY,CAACmB,IAAI,CAACpB,SAAS,CAAC,CAAC,CAC5CqB,KAAK,CAAEC,GAAG,EAAKC,OAAO,CAACC,KAAK,CAAC,wBAAwB,CAAEF,GAAG,CAAC,CAAC,CACjE,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,YAAY,CAAIC,SAAS,EAAK,CAClC,GAAIA,SAAS,CAAErB,QAAQ,CAACD,KAAK,CAAG,CAAC,CAAC,CAClC,KAAM,CAAAuB,IAAI,CAAGzB,OAAO,CAAG,CAAC,CACxB,GAAIyB,IAAI,CAAG3B,SAAS,CAAC4B,MAAM,CAAEzB,UAAU,CAACwB,IAAI,CAAC,CAAC,IACzC,CAAApB,WAAW,CAAC,IAAI,CAAC,CACxB,CAAC,CAED,GAAIP,SAAS,CAAC4B,MAAM,GAAK,CAAC,CAAE,mBAAOhC,IAAA,QAAKiC,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,qDAAW,CAAK,CAAC,CAEzE,mBACElC,IAAA,QAAKiC,SAAS,CAAC,KAAK,CAAAC,QAAA,CACjB,CAACxB,QAAQ,cACRR,KAAA,QAAAgC,QAAA,eACElC,IAAA,OAAAkC,QAAA,CAAK9B,SAAS,CAACE,OAAO,CAAC,CAAC6B,QAAQ,CAAK,CAAC,CACrC/B,SAAS,CAACE,OAAO,CAAC,CAAC8B,OAAO,CAACC,GAAG,CAAC,CAACC,GAAG,CAAEC,GAAG,gBACvCvC,IAAA,WAAkBwC,OAAO,CAAEA,CAAA,GAAMX,YAAY,CAACS,GAAG,CAACG,OAAO,CAAE,CAAAP,QAAA,CACxDI,GAAG,CAACI,IAAI,EADEH,GAEL,CACT,CAAC,EACC,CAAC,cAENrC,KAAA,OAAAgC,QAAA,EAAI,0DAAW,CAAC1B,KAAK,CAAC,gBAAI,CAACJ,SAAS,CAAC4B,MAAM,EAAK,CACjD,CACE,CAAC,CAEV,CAEA,cAAe,CAAA7B,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}